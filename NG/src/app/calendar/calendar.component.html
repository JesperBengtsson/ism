
<div class="introduction" (click)="timer=(60 * 3)">

    <!-- SCHEDULER -->

    <div class="content-container col-md-12 col-sm-12">

        <div class="clearfix full-height">
            <h2 class="small-heading">CALENDAR</h2>
            <div class="row" style="justify-content: center">
                <div class="col-md-11">

                        <dx-scheduler
                            (click)="timer=(60 * 3)"
                            [crossScrollingEnabled]="crossScrollingEnabled"
                            [dataSource]="appointmentsData"
                            [views]='["day", "week", "month"]'
                            currentView="week"
                            [groups]="groups"
                            recurrenceEditMode="series"
                            [currentDate]="currentDate"
                            (onCellContextMenu)="onCellContextMenu($event)"
                            (onAppointmentContextMenu)="onAppointmentContextMenu($event)"
                            (onAppointmentFormCreated)="onAppointmentFormCreated($event)"
                            [firstDayOfWeek]="1"
                            [startDayHour]="5"
                            [height]="780">

                            <dxi-resource
                                fieldExpr="client"
                                displayExpr="text"
                                label="Client"
                                [dataSource]="clientsData">
                            </dxi-resource>

                            <dxi-resource
                                fieldExpr="roomId"
                                label="Room"
                                displayExpr="text"
                                [dataSource]="resourcesData">
                            </dxi-resource>
                                                    
                            <dxo-editing
                                [allowAdding]="true"
                                [allowDeleting]="true"
                                [allowDragging]="true"
                                [allowResizing]="true"
                                [allowUpdating]="true">
                            </dxo-editing>
                        
                    </dx-scheduler>
                        
                        <div class="options">
                            <div class="caption">Options</div>
                            <div class="option">
                                <dx-check-box text="Room group" (onValueChanged)="onValueChanged($event)"></dx-check-box>
                            </div>
                        </div>
                        
                        <dx-context-menu #appointmentMenu
                        [dataSource]="appointmentContextMenuItems"
                        target=".dx-scheduler-appointment"
                        (onItemClick)="onContextMenuItemClick($event)"
                        [width]="200">
                        
                        <div *dxTemplate="let e of 'item'">
                            <div *ngIf="e.color">
                                <div class="item-badge" [ngStyle]="{ backgroundColor: e.color}"></div>
                            </div>
                            <div class="item-text">{{e.text}}</div>
                        </div>
                    </dx-context-menu>
                    
                    <dx-context-menu #cellMenu
                    [dataSource]="cellContextMenuItems"
                    target=".dx-scheduler-date-table-cell"
                    (onItemClick)="onContextMenuItemClick($event)"
                    [width]="200">
                </dx-context-menu>
                
                </div>
            </div>

        </div>

    </div>

</div>
