
<div class="introduction" (click)="timer=(60 * 3)">

    <!-- SCHEDULER -->

    <div class="content-container col-md-12 col-sm-12">

        <div class="clearfix full-height">
            <h2 class="small-heading">SCHEDULER</h2>
            <div class="row" style="justify-content: center">
                <div class="col-md-11">
                    <!-- <div class="overlap-top"></div> -->

                    <iframe src="https://calendar.google.com/calendar/embed?showTitle=0&amp;showPrint=0&amp;mode=WEEK&amp;wkst=1&amp;bgcolor=%23e8e7e4&amp;src=n4979evsjdn5cpd9j0cpfjo17k%40group.calendar.google.com&amp;color=%231B887A&amp;src=dodktsk63hc8472jp19bcte2v0%40group.calendar.google.com&amp;color=%2342104A&amp;src=mmcv60m092lk0sp0do1ubfedvc%40group.calendar.google.com&amp;color=%23711616&amp;src=ajrl9gs8vcpusd252sf5l6bag0%40group.calendar.google.com&amp;color=%2328754E&amp;src=e_2_sv%23weeknum%40group.v.calendar.google.com&amp;color=%238D6F47&amp;ctz=Europe%2FStockholm"
                     style="border-width:0" width="875" height="875" frameborder="0" scrolling="no"></iframe>

                   <!--     CONFLUENCE
                        <iframe src="https://wiki.ismobile.com/calendar/mycalendar.action"
                    width="1000" height="875"></iframe> -->

                        <!--    DEV EXTREME 
                            <dx-scheduler
                            appointmentTemplate="appointment-template"
                            appointmentTooltipTemplate="tooltip-template"
                            currentView="week"
                            recurrenceEditMode="series"
                            [showAllDayPanel]="false"
                            [crossScrollingEnabled]="crossScrollingEnabled"
                            [currentDate]="currentDate"
                            [dataSource]="appointmentsData"
                            [firstDayOfWeek]="1"
                            [startDayHour]="5"
                            [views]='["day", "week", "month"]'
                            (click)="timer=(60 * 3)"
                            (onCellContextMenu)="onCellContextMenu($event)"
                            (onAppointmentContextMenu)="onAppointmentContextMenu($event)"
                            (onAppointmentFormCreated)="onAppointmentFormCreated($event)"
                            >

                            <dxi-view
                            type="day"
                            name="Day"
                            [groups]="['room.id']"
                            ></dxi-view>

                            <dxi-view
                            type="week"
                            name="Week"
                            >
                            </dxi-view>

                            <dxi-view
                            type="month"
                            name="Month"
                            ></dxi-view>

                            <dxi-resource
                                displayExpr="text"
                                fieldExpr="room.id"
                                label="Room"
                                [dataSource]="roomsData">
                            </dxi-resource>

                            <dxi-resource
                                displayExpr="text"
                                fieldExpr="client.id"
                                label="Client"
                                [dataSource]="clientsData">
                            </dxi-resource>

                            <dxo-editing
                                [allowAdding]="true"
                                [allowDeleting]="true"
                                [allowDragging]="true"
                                [allowResizing]="true"
                                [allowUpdating]="true">
                            </dxo-editing>

                            <div *dxTemplate="let appointment of 'appointment-template'" [ngStyle]="{ backgroundColor: appointment.room.color}">
                                <div class='appointment-preview'>
                                    <div *ngIf="getRoomById(appointment)">
                                        {{appointment.room.text}}
                                    </div>
                                    <div *ngIf="getClientById(appointment)">
                                        {{appointment.client.text}}
                                    </div>
                                    <div class='dropdown-appointment-dates'>
                                        {{(appointment.startDate | date:'shortTime') + ' - ' + (appointment.endDate | date:'shortTime')}}                 
                                    </div>
                                </div>
                            </div>

                            <div *dxTemplate="let appointment of 'tooltip-template'">
                                <div class="appointment-content">
                                    <div class='appointment-tooltip'>
                                        <img [src]="appointment.room.image"/>
                                    </div>
                                    <div class='appointment-text'>
                                        <div *ngIf="appointment.text">{{appointment.text}}</div>
                                        <div>{{appointment.room.text}}</div>
                                        <div *ngIf="getClientById(appointment)">
                                            {{'Client: ' + appointment.client.text}}
                                        </div>
                                        <div class="appointment-dates">
                                            {{(appointment.startDate | date : 'MMM d') + ' , ' + (appointment.startDate | date:'shortTime') +
                                            ' - ' + (appointment.endDate | date:'shortTime')}}
                                        </div>
                                    </div>
                                    <div class="appointment-button">
                                        <dx-button class ="delete-appointment" icon="trash" (onClick)="onTooltipDeleteAppointment(appointment)"></dx-button>
                                        <dx-button class ="delete-appointment" icon="edit" (onClick)="onTooltipShowAppointment(appointment)"></dx-button>
                                    </div>
                                </div>
                            </div>

                        </dx-scheduler> -->
<!-- 
                        <dx-context-menu #appointmentMenu
                            [dataSource]="appointmentContextMenuItems"
                            target=".dx-scheduler-appointment"
                            (onItemClick)="onContextMenuItemClick($event)"
                            [width]="200">
                        </dx-context-menu>

                    <dx-context-menu #cellMenu
                        [dataSource]="cellContextMenuItems"
                        target=".dx-scheduler-date-table-cell"
                        (onItemClick)="onContextMenuItemClick($event)"
                        [width]="200">
                    </dx-context-menu>
                 -->
                </div>
            </div>

        </div>

    </div>

</div>
